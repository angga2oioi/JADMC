<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>JADMC | DATABASE </title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/style.css">
  <script src="plugins/vue/vue.min.js"></script>
</head>
  <body id="database-page">
    <div class="container" id="jadmc-app" :key="componentKey">
      <div class="row">
        <div class="twelve columns">
          <div class="top-head">
            <ul class="breadcrumb" >
              <li v-for="l in data.breadcrumbList" v-bind:class="l.class"><a v-bind:data-args="l.args" v-bind:a-onclick="l.init">{{l.name}}</a></li>
            </ul>
          </div>
          <div class="body-content">
            <div class="block-container active server">
              <div class="block-head">
                <button class="button button-primary" a-onclick="element-switchView" data-args="#server-database" >Database</button>
                <button class="button" a-onclick="element-switchView" data-args="#server-sql">SQL</button>
                <button class="button" a-onclick="server-importDatabase" >Import Database</button>
              </div>
              <div class="block-body">
                <div class="block-tab active" id="server-database">
                    <div>
                      <button class="button" a-onclick="server-createDb">Create Database</button>
                    </div>
                    <table class="full-width" >
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody  >
                            <tr v-for="c in data.databaseList" >
                                <td><a a-onclick="database-init" v-bind:data-args="c.Database">{{c.Database}}</a></td>
                                <td>
                                    <button class="button small" v-bind:data-args="c.Database" a-onclick="server-dropDb" data-tooltip="Drop Database" ><i class="icon icon-minus-circled"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="block-tab" id="server-sql">
                  <div>
                    <div class="form">
                      <div class="form-group">
                        <textarea name="query" class="full-width" rows="20" a-onkeyup="element-autoresize" placeholder="Put your query here"></textarea>
                      </div>
                      <div class="form-group align-right">
                        <button class="button" a-onclick="server-sqlQuery">RUN</button>
                      </div>
                    </div>
                  </div>
                  
                    <div  >
                        <div class="full-width overflow-auto" v-for="t in data.serverQueryList" > 
                        <table class="full-width" >
                            <thead>
                                <tr >
                                    <th v-for="(value, key) in t[0]" >{{ key }}</th>
                                </tr>
                            </thead>
                            <tbody  >
                                <tr v-for="o in t" >
                                    <td v-for="c in o">{{c}}</td>
                                </tr>
                            </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  
                </div>
                
            </div>
            <div class="block-container database">
                <div class="block-head">
                    <button class="button button-primary" a-onclick="element-switchView" data-args="#database-table" >Tables</button>
                    <button class="button" a-onclick="element-switchView" data-args="#database-sql">SQL</button>
                    <button class="button" a-onclick="element-switchView" data-args="#database-export">Export</button>
                    <button class="button" a-onclick="database-importTable" >Import Table</button>
                </div>
                <div class="block-body">
                    <div class="block-tab active" id="database-table">
                        <div>
                          <button class="button" a-onclick="database-createSchema">Create Table</button>
                        </div>
                        <table class="full-width" >
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody >
                                <tr v-for="c in data.tableList" >
                                    <td><a a-onclick="table-init" v-bind:data-args="c.table">{{c.table}}</a></td>
                                    <td>
                                        <button class="button small" v-bind:data-args="c.table" a-onclick="database-truncateTable" data-tooltip="Truncate Table" ><i class="icon icon-trash"></i></button>
                                        <button class="button small" v-bind:data-args="c.table" a-onclick="database-dropTable" data-tooltip="Drop Table"><i class="icon icon-minus-circled"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="block-tab" id="database-table-create">
                      <div class="overflow-auto"   >
                        <table class="full-width">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Length/Value</th>
                                    <th>Allow Null</th>
                                    <th>Default</th>
                                    <th>Index</th>
                                    <th>Action</th>
                                  </tr>
                            </thead>
                            <tbody >
                              <tr v-for="c in data.newSchema" >
                                <td>{{c.name}}</td>
                                <td>{{c.type}}</td>
                                <td>{{c.length}}</td>
                                <td>
                                    <span v-if="c.null">YES</span>
                                    <span>NO</span>
                                </td>
                                <td>{{c.default}}</td>
                                <td>{{c.index}}</td>
                                <td>
                                  <button class="button" a-onclick="database-removeSchemaColumn" v-bind:data-args="c._schemaId" data-tooltip="Remove Column"><i class="icon icon-minus-circled"></i></button>
                                </td>
                              </tr>
                            </tbody>
                        </table>
                        <div v-if="data.newSchema && data.newSchema.length > 0" class="align-right">
                            <button class="button" a-onclick="database-createTable" data-tooltip="Create Table">CREATE</button>
                        </div>
                      </div>
                      <div class="overflow-auto border-top padding-top-10">
                        <table class="full-width" id="database-schema-form">
                          <thead>
                              <tr>
                                  <th>Name</th>
                                  <th>Type</th>
                                  <th>Length/Value</th>
                                  <th>Null</th>
                                  <th>Default</th>
                                  <th>Index</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <th>
                                      <input name="name" class="form-control" />
                                  </th>
                                  <th>
                                      <select name="type" class="form-control">
                                          <option selected disabled>Select Type</option>
                                          <option title="A 4-byte integer, signed range is -2,147,483,648 to 2,147,483,647, unsigned range is 0 to 4,294,967,295">INT</option>
                                          <option title="A variable-length (0-65,535) string, the effective maximum length is subject to the maximum row size">VARCHAR</option>
                                          <option title="A TEXT column with a maximum length of 65,535 (2^16 - 1) characters, stored with a two-byte prefix indicating the length of the value in bytes">TEXT</option>
                                          <option title="A date, supported range is 1000-01-01 to 9999-12-31">DATE</option>
                                          <optgroup label="Numeric">
                                          <option title="A 1-byte integer, signed range is -128 to 127, unsigned range is 0 to 255">TINYINT</option>
                                          <option title="A 2-byte integer, signed range is -32,768 to 32,767, unsigned range is 0 to 65,535">SMALLINT</option>
                                          <option title="A 3-byte integer, signed range is -8,388,608 to 8,388,607, unsigned range is 0 to 16,777,215">MEDIUMINT</option>
                                          <option title="A 4-byte integer, signed range is -2,147,483,648 to 2,147,483,647, unsigned range is 0 to 4,294,967,295">INT</option>
                                          <option title="An 8-byte integer, signed range is -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807, unsigned range is 0 to 18,446,744,073,709,551,615">BIGINT</option>
                                          <option disabled="disabled">-</option>
                                          <option title="A fixed-point number (M, D) - the maximum number of digits (M) is 65 (default 10), the maximum number of decimals (D) is 30 (default 0)">DECIMAL</option>
                                          <option title="A small floating-point number, allowable values are -3.402823466E+38 to -1.175494351E-38, 0, and 1.175494351E-38 to 3.402823466E+38">FLOAT</option>
                                          <option title="A double-precision floating-point number, allowable values are -1.7976931348623157E+308 to -2.2250738585072014E-308, 0, and 2.2250738585072014E-308 to 1.7976931348623157E+308">DOUBLE</option>
                                          <option title="Synonym for DOUBLE (exception: in REAL_AS_FLOAT SQL mode it is a synonym for FLOAT)">REAL</option>
                                          <option disabled="disabled">-</option>
                                          <option title="A bit-field type (M), storing M of bits per value (default is 1, maximum is 64)">BIT</option>
                                          <option title="A synonym for TINYINT(1), a value of zero is considered false, nonzero values are considered true">BOOLEAN</option>
                                          <option title="An alias for BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE">SERIAL</option>
                                          </optgroup>
                                          <optgroup label="Date and time">
                                          <option title="A date, supported range is 1000-01-01 to 9999-12-31">DATE</option>
                                          <option title="A date and time combination, supported range is 1000-01-01 00:00:00 to 9999-12-31 23:59:59">DATETIME</option>
                                          <option title="A timestamp, range is 1970-01-01 00:00:01 UTC to 2038-01-09 03:14:07 UTC, stored as the number of seconds since the epoch (1970-01-01 00:00:00 UTC)">TIMESTAMP</option>
                                          <option title="A time, range is -838:59:59 to 838:59:59">TIME</option>
                                          <option title="A year in four-digit (4, default) or two-digit (2) format, the allowable values are 70 (1970) to 69 (2069) or 1901 to 2155 and 0000">YEAR</option>
                                          </optgroup>
                                          <optgroup label="String">
                                          <option title="A fixed-length (0-255, default 1) string that is always right-padded with spaces to the specified length when stored">CHAR</option>
                                          <option title="A variable-length (0-65,535) string, the effective maximum length is subject to the maximum row size">VARCHAR</option>
                                          <option disabled="disabled">-</option>
                                          <option title="A TEXT column with a maximum length of 255 (2^8 - 1) characters, stored with a one-byte prefix indicating the length of the value in bytes">TINYTEXT</option>
                                          <option title="A TEXT column with a maximum length of 65,535 (2^16 - 1) characters, stored with a two-byte prefix indicating the length of the value in bytes">TEXT</option>
                                          <option title="A TEXT column with a maximum length of 16,777,215 (2^24 - 1) characters, stored with a three-byte prefix indicating the length of the value in bytes">MEDIUMTEXT</option>
                                          <option title="A TEXT column with a maximum length of 4,294,967,295 or 4GiB (2^32 - 1) characters, stored with a four-byte prefix indicating the length of the value in bytes">LONGTEXT</option>
                                          <option disabled="disabled">-</option>
                                          <option title="Similar to the CHAR type, but stores binary byte strings rather than non-binary character strings">BINARY</option>
                                          <option title="Similar to the VARCHAR type, but stores binary byte strings rather than non-binary character strings">VARBINARY</option>
                                          <option disabled="disabled">-</option>
                                          <option title="A BLOB column with a maximum length of 255 (2^8 - 1) bytes, stored with a one-byte prefix indicating the length of the value">TINYBLOB</option>
                                          <option title="A BLOB column with a maximum length of 16,777,215 (2^24 - 1) bytes, stored with a three-byte prefix indicating the length of the value">MEDIUMBLOB</option>
                                          <option title="A BLOB column with a maximum length of 65,535 (2^16 - 1) bytes, stored with a two-byte prefix indicating the length of the value">BLOB</option>
                                          <option title="A BLOB column with a maximum length of 4,294,967,295 or 4GiB (2^32 - 1) bytes, stored with a four-byte prefix indicating the length of the value">LONGBLOB</option>
                                          <option disabled="disabled">-</option>
                                          <option title="An enumeration, chosen from the list of up to 65,535 values or the special '' error value">ENUM</option>
                                          <option title="A single value chosen from a set of up to 64 members">SET</option>
                                          </optgroup>
                                          <optgroup label="Spatial">
                                          <option title="A type that can store a geometry of any type">GEOMETRY</option>
                                          <option title="A point in 2-dimensional space">POINT</option>
                                          <option title="A curve with linear interpolation between points">LINESTRING</option>
                                          <option title="A polygon">POLYGON</option>
                                          <option title="A collection of points">MULTIPOINT</option>
                                          <option title="A collection of curves with linear interpolation between points">MULTILINESTRING</option>
                                          <option title="A collection of polygons">MULTIPOLYGON</option>
                                          <option title="A collection of geometry objects of any type">GEOMETRYCOLLECTION</option>
                                          </optgroup>
                                        </select>
                                  </th>
                                  <th>
                                      <input name="length" class="form-control" />
                                  </th>
                                  <th>
                                      <label >
                                          <input type="checkbox" name="null" />
                                        </label>
                                  </th>
                                  <th>
                                      <input name="default" class="form-control" />
                                  </th>
                                  <th>
                                      <select name="index" class="form-control">
                                          <option value="">---</option>
                                          <option title="Primary" value="primary">PRIMARY</option>
                                          <option title="Unique" value="unique">UNIQUE</option>
                                          <option title="Index" value="index">INDEX</option>
                                      </select>
                                  </th>
                                </tr>
                          </tbody>
                        </table>
                        <div class="full-width">
                          <button class="button" a-onclick="database-addSchemaColumn">Add Column</button>
                        </div>
                      </div>
                    </div>
                    <div class="block-tab" id="database-sql">
                        <div>
                          <div class="form">
                            <div class="form-group">
                              <textarea name="query" class="full-width" a-onkeyup="element-autoresize" rows="20" placeholder="Put your query here"></textarea>
                            </div>
                            <div class="form-group align-right">
                              <button class="button" a-onclick="database-sqlQuery">RUN</button>
                            </div>
                          </div>
                        </div>
                        
                          <div  >
                              <div class="full-width overflow-auto" v-for="t in data.databaseQueryList" > 
                              <table class="full-width" >
                                  <thead>
                                      <tr >
                                          <th v-for="(value, key) in t[0]" >{{ key }}</th>
                                      </tr>
                                  </thead>
                                  <tbody  >
                                      <tr v-for="o in t" >
                                          <td v-for="c in o">{{c}}</td>
                                      </tr>
                                  </tbody>
                              </table>
                            </div>
                          </div>
                    </div>
                    <div class="block-tab" id="database-export">
                      <div class=" form" >
                        <div class="form-group">
                          <label class="control-label">
                              Output
                          </label>
                            <select  name="fileType" class="form-control" >
                              <option selected disabled value="">Select Output Type</option>
                              <option value="sql">SQL</option>
                              <option value="csv">CSV</option>
                              <option value="json">JSON</option>
                            </select>
                        </div>
                        <button class="button" a-onclick="database-export">Export</button>
                      </div>
                    </div>
                    
                </div>
              </div>
            <div class="block-container table">
              <div class="block-head">
                <button class="button button-primary" a-onclick="element-switchView" data-args="#table-browse" >Browse</button>
                <button class="button" a-onclick="element-switchView" data-args="#table-structure">Structure</button>
                <button class="button" a-onclick="element-switchView" data-args="#table-sql">SQL</button>
                <button class="button" a-onclick="element-switchView" data-args="#table-export">Export</button>
                
              </div>
              <div class="block-body">
                <div class="block-tab active" id="table-browse">
                  <div class="overflow-auto">
                  <table class="full-width" >
                    <thead>
                        <tr v-if="data.browseTableList">
                            <th v-for="(item,index) in data.browseTableList[0]" >{{index}}</th>
                        </tr>
                    </thead>
                    <tbody >
                        <tr v-for="c in data.browseTableList" >
                           <td v-for="t in c">{{t}}</td>
                        </tr>
                    </tbody>
                  </table>
                </div>
                </div>
                <div class="block-tab" id="table-structure">
                    <div class="overflow-auto">
                        <table class="full-width" >
                          <thead>
                              <tr v-if="data.structureTableList">
                                  <th v-for="(item,index) in data.structureTableList[0]" >{{index}}</th>
                                  <th>Action</th>
                              </tr>
                          </thead>
                          <tbody >
                              <tr v-for="c in data.structureTableList" >
                                 <td v-for="t in c">{{t}}</td>
                                 <td><button class="button small" a-onclick="table-dropColumn" v-bind:data-args="c.Field" data-tooltip="Drop Column"><i class="icon icon-minus-circled"></i></button></td>
                              </tr>
                          </tbody>
                        </table>
                      </div>
                </div>
                <div class="block-tab" id="table-sql">
                    <div>
                        <div class="form">
                          <div class="form-group">
                            <textarea name="query" class="full-width" a-onkeyup="element-autoresize" rows="20" placeholder="Put your query here"></textarea>
                          </div>
                          <div class="form-group align-right">
                            <button class="button" a-onclick="table-sqlQuery">RUN</button>
                          </div>
                        </div>
                      </div>
                      
                        <div  >
                            <div class="full-width overflow-auto" v-for="t in data.tableQueryList" > 
                            <table class="full-width" >
                                <thead>
                                    <tr >
                                        <th v-for="(value, key) in t[0]" >{{ key }}</th>
                                    </tr>
                                </thead>
                                <tbody  >
                                    <tr v-for="o in t" >
                                        <td v-for="c in o">{{c}}</td>
                                    </tr>
                                </tbody>
                            </table>
                          </div>
                        </div>
                </div>
                <div class="block-tab" id="table-export">
                  <div class=" form" >
                    <div class="form-group">
                      <label class="control-label">
                          Output
                      </label>
                        <select  name="fileType" class="form-control" >
                          <option selected disabled value="">Select Output Type</option>
                          <option value="sql">SQL</option>
                          <option value="csv">CSV</option>
                          <option value="json">JSON</option>
                        </select>
                    </div>
                    <button class="button" a-onclick="table-export">Export</button>
                  </div>
                </div>
                
              </div>
            </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
    <div class="overlay hidden full-height full-width">
        <div class="v-center align-center"><h1>LOADING</h1></div>
    </div>
    <script src="js/index.js"></script>
  </body>
</html>
